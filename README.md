# MediCare AI Backend

This is the backend for MediCare AI, a medical AI assistant API for Cameroon. It is built with Python using the FastAPI framework. The AI functionalities are powered by LangChain and Google Gemini.

## Features

*   **Medical Research:** Search for medical research papers using the Tavily API.
*   **Text Analysis:** Analyze medical text to extract key findings, recommendations, and next steps.
*   **Image Analysis:** Analyze medical images to extract text and provide analysis.
*   **Chat:** A simple chat interface to interact with the AI.

## API Endpoints

The API documentation is automatically generated by FastAPI and is available at `/docs` and `/redoc` when the application is running.

Here are the main endpoints:

*   `GET /api/health`: Health check endpoint.
    *   **Response:**
        ```json
        {
          "status": "healthy",
          "timestamp": "2025-10-01T12:00:00.000Z",
          "message": "MediCare AI Backend is running!"
        }
        ```
*   `POST /api/research`: Search for medical research.
    *   **Request Body:**
        ```json
        {
          "query": "treatment for malaria",
          "max_results": 5
        }
        ```
    *   **Response:**
        ```json
        {
          "query": "treatment for malaria",
          "results": [
            {
              "title": "...",
              "url": "...",
              "content": "...",
              "score": 0.9
            }
          ],
          "summary": "...",
          "timestamp": "2025-10-01T12:00:00.000Z"
        }
        ```
*   `POST /api/chat`: Chat with the AI.
    *   **Request Body:**
        ```json
        {
          "message": "Hello, how are you?",
          "language": "en"
        }
        ```
    *   **Response:**
        ```json
        {
          "response": "I am doing well, thank you!",
          "language": "en",
          "timestamp": "2025-10-01T12:00:00.000Z"
        }
        ```
*   `POST /api/analyze-text`: Analyze medical text.
    *   **Request Body:**
        ```json
        {
          "text": "...",
          "context": "...",
          "language": "en"
        }
        ```
    *   **Response:**
        ```json
        {
          "summary": "...",
          "key_findings": [],
          "recommendations": [],
          "next_steps": [],
          "disclaimer": "...",
          "language": "en",
          "timestamp": "2025-10-01T12:00:00.000Z"
        }
        ```
*   `POST /api/analyze-image`: Analyze a medical image.
    *   **Request Body:** `multipart/form-data` with a file upload.
*   `POST /api/extract-text`: Extract text from a medical image.
    *   **Request Body:** `multipart/form-data` with a file upload.

## Tech Stack

*   **Backend:** FastAPI
*   **AI:** LangChain, Google Gemini
*   **Dependencies:** pydantic, uvicorn, python-dotenv, python-multipart, pydantic-settings, langchain, langchain-core, langchain-google-genai, tavily-python, Pillow

## Getting Started

### Prerequisites

*   Python 3.7+
*   Pip

### Installation

1.  Clone the repository:
    ```bash
    git clone https://github.com/your-username/medicare-ai.git
    cd medicare-ai
    ```
2.  Create a virtual environment:
    ```bash
    python -m venv .venv
    source .venv/bin/activate  # On Windows, use `.venv\Scripts\activate`
    ```
3.  Install the dependencies:
    ```bash
    pip install -r requirements.txt
    ```
4.  Create a `.env` file from the `.env.example` file and add your API keys:
    ```bash
    cp backend/app/.env.example backend/app/.env
    ```

### Running the Application

To run the application, use the following command:

```bash
uvicorn backend.app.main:app --reload
```

The application will be available at `http://127.0.0.1:8000`.

## Contributing

Contributions are welcome! Please feel free to open an issue or submit a pull request.

1.  Fork the repository.
2.  Create a new branch (`git checkout -b feature/your-feature`).
3.  Make your changes.
4.  Commit your changes (`git commit -m 'Add some feature'`).
5.  Push to the branch (`git push origin feature/your-feature`).
6.  Open a pull request.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.